(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{1794:function(e,l,t){Promise.resolve().then(t.bind(t,3315))},3315:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return O}});var r=t(6943),a=t(7879);let s=e=>{(0,a.useEffect)(e,[])};var n=t(3698);async function c(){try{let e=await (await fetch("/next-blog/post-list.json")).json();return{isFailed:!1,value:e,error:null}}catch(e){return{isFailed:!0,value:null,error:e}}}let i=(e,l)=>{let t=new n.Z(e,{includeScore:!0,includeMatches:!0,shouldSort:!0,minMatchCharLength:2,findAllMatches:!1,...l});return e=>t.search(e)},u=(e,l,t)=>i(l,t)(e);var d=t(1003),o=t(518);let h=async e=>{await new Promise(l=>{setTimeout(()=>{l()},e)})},x=async(e,l)=>{await h(e),l()};var f=t(5845),m={src:"/next-blog/_next/static/media/pepe-sad.83ae5666.png",height:1037,width:1092,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAYFBMVEVZiz+KZjRHbTVVhzxQgjYCO+JSgDlMaXFZiThTf0AnXplJci54azMAIrsDOtVpYydzjGSGUC5OXEdhfTiouZ5jc1tNeTRdkD5ThUQSR7pjfTmHXjBei0pLfldBZy9nd17+xCvLAAAAHXRSTlP9/ne1/fuRAO/b7ib+PO5N/pT7n/z2of///////ja1kmcAAAAJcEhZcwAACxMAAAsTAQCanBgAAABESURBVHicBcGHAYAgEASwA4EHe7+nqPtvaQIZUrxTEEhHB+csArHu53chku1tagGUQvBA5FirMRv6R1XTIvA+5zxP8gN2RwOaEF0R0gAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},p=t(7938),g=t(7313),j=t(885);let A=(0,a.forwardRef)((e,l)=>{let{onChangeSearch:t,onClearSearch:a,value:s,placeholder:n,defaultValue:c,className:i,...u}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("label",{className:(0,o.cx)("flex gap-3"),ref:l,children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(p.Z,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2"}),(0,r.jsx)("input",{type:"search",placeholder:n,className:(0,o.cx)("peer","w-full h-full rounded-lg text-md bg-white caret-primary pl-10 pr-10","duration-200","border-2 focus:outline-none border-primary-500 focus:ring-4 focus:ring-primary-200","focus-visible:outline-none focus-visible:border-primary",i),value:s,onChange:e=>{let l=e.currentTarget.value;null==t||t(l)},...u}),(0,r.jsx)("button",{id:"search-cancel-btn",className:(0,o.cx)("peer-placeholder-shown:hidden absolute right-2 top-1/2 -translate-y-1/2 h-11 w-11 inline-flex justify-center place-items-center"),type:"button",onClick:()=>{null==t||t("")},children:(0,r.jsx)(g.Z,{size:20})})]}),(0,r.jsx)(j.zx,{size:"lg",theme:"primary",type:"submit",className:(0,o.cx)("flex-none","focus:outline-none focus:ring-4 focus:ring-primary-200","focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-primary-200"),children:(0,r.jsx)(p.Z,{size:24})})]})})});A.displayName="SearchInput";var b=t(830),v=t(7658);function y(e){let{children:l,className:t,theme:a="primary",...s}=e;return(0,r.jsx)("span",{className:(0,o.cx)("inline-block rounded-full border duration-200","primary"===a&&"text-primary-500 border-primary-500 hover:border-primary-600 hover:text-primary-600 ","secondary"===a&&"text-gray-400 border-gray-400 hover:border-gray-700 hover:text-gray-700","font-light align-top","min-h-5 text-xs px-3")+" leading-5",...s,children:l})}var N=t(4970);function w(e){let{className:l,children:t,...a}=e;return(0,r.jsx)("section",{className:(0,o.cx)(l),...a,children:t})}function k(e){let{className:l,children:t,...a}=e;return(0,r.jsx)("h3",{className:(0,o.cx)("text-2xl font-semibold",l),...a,children:t})}function S(e){let{className:l,children:t,...a}=e;return(0,r.jsx)("p",{className:(0,o.cx)("text-gray-500 mt-4",l),...a,children:t})}let E="/next-blog";function O(){return(0,r.jsx)(a.Suspense,{children:(0,r.jsx)(R,{})})}let R=()=>{let e=(0,N.useSearchParams)().get("q"),l=(0,b.k)(e)||""===e,[t,n]=(0,a.useState)([]),i=(0,a.useMemo)(()=>!e||t.length<=0?null:u(e,t,{keys:["data.title","data.tags","data.summary","content"]}),[e,t]),h=(0,a.useRef)(null),[p,g]=(0,a.useState)(null!=e?e:""),w=async()=>{let e=await c();(0,v.g)(e)||n(e.value)},k=[...t.map(e=>e.data.tags).flat().reduce((e,l)=>{var t;return e.set(l,(null!==(t=e.get(l))&&void 0!==t?t:0)+1)},new Map).entries()];return s(()=>{x(200,()=>{var e;null===(e=h.current)||void 0===e||e.focus()}),w()}),(0,r.jsxs)("search",{className:(0,o.cx)("rounded-md flex flex-col items-center"),children:[(0,r.jsxs)("fieldset",{className:"rounded-lg w-full pt-20 pb-6 flex flex-col place-items-center",children:[(0,r.jsx)("h2",{className:"text-5xl font-bold mb-8",children:"Search"}),(0,r.jsx)("form",{className:"w-full max-w-[568px] flex flex-col gap-4",action:"".concat(E,"/search?q=").concat(p),method:"get",children:(0,r.jsx)(A,{className:"flex-1 h-11",placeholder:"Type to search",value:p,onChangeSearch:e=>{g(null!=e?e:"")},onClearSearch:()=>{g("")},ref:h,name:"q"})})]}),l&&(0,r.jsx)("ul",{className:"flex flex-row gap-3 flex-wrap",children:k.map(e=>{let[l,t]=e;return(0,r.jsx)("li",{children:(0,r.jsx)(d.default,{href:"".concat(E,"/tags/").concat(l),className:"rounded-full",children:(0,r.jsx)(y,{children:"".concat(l," (").concat(t,")")})})},l)})}),(0,r.jsx)("div",{className:"text-left w-full mt-16",children:!l&&(0,r.jsxs)(r.Fragment,{children:[(0,b.k)(i)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.Od,{className:"",children:(0,r.jsx)("strong",{className:"block text-3xl font-bold",children:"loading..."})}),(0,r.jsx)(j.Od,{className:"mt-4 block h-32"})]}),!(0,b.k)(i)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("strong",{className:"block text-3xl font-bold mb-12",children:[(0,r.jsxs)(C,{children:['"',e,'"']})," 검색 결과:"," ",(0,r.jsx)(C,{children:null==i?void 0:i.length}),"개의 포스트"]}),i.length<=0&&(0,r.jsxs)("div",{className:"flex flex-col place-items-center mt-16",children:[(0,r.jsx)(f.default,{src:m,alt:"pepe-sad",width:192,height:0}),(0,r.jsx)("p",{className:"text-lg mt-8",children:"검색 결과가 없습니다요..."})]}),i.length>0&&(0,r.jsx)("ul",{className:"mt-4",children:i.map(e=>(0,r.jsx)("li",{className:"mb-4 last:mb-0 border-b first:border-t",children:(0,r.jsx)(T,{result:e})},e.refIndex))})]})]})})]})},T=e=>{let{result:l,className:t,...a}=e,{item:s,matches:n}=l,c=null==n?void 0:n.find(e=>"data.title"===e.key),i=null==n?void 0:n.find(e=>"data.summary"===e.key);return(0,r.jsxs)(w,{className:(0,o.cx)("rounded-md p-4",t),...a,children:[(0,r.jsx)(d.default,{href:"/posts/".concat(s.data.slug),className:"hover:underline",children:(0,r.jsx)(k,{children:c&&c.value&&c.indices?z(c.value,c.indices).map((e,l)=>l%2==1?(0,r.jsx)(C,{children:e},l):e):s.data.title})}),(0,r.jsx)(S,{children:i&&i.value&&i.indices?z(i.value,i.indices).map((e,l)=>l%2==1?(0,r.jsx)(C,{children:e},l):e):s.data.summary}),(0,r.jsx)("div",{className:"mt-2 flex flex-row flex-wrap gap-1",children:s.data.tags.map(e=>(0,r.jsx)(d.default,{href:"/tags/".concat(e),children:(0,r.jsx)(y,{children:e})},e))})]})},C=e=>{let{children:l}=e;return(0,r.jsx)("span",{className:"text-primary",children:l})};function z(e,l){let t=[],r=0;return l.forEach(l=>{let[a,s]=l;t.push(e.slice(r,a)),t.push(e.slice(a,s+1)),r=s+1}),t.push(e.slice(r)),t}},518:function(e,l,t){"use strict";t.d(l,{cx:function(){return s}});var r=t(689),a=t(1488);function s(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];return(0,r.m6)((0,a.Z)(...l))}},7658:function(e,l,t){"use strict";t.d(l,{g:function(){return s}});let r=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),a=e=>!!(r(e)&&Object.hasOwn(e,"isFailed")),s=e=>a(e)&&!0===e.isFailed},830:function(e,l,t){"use strict";t.d(l,{k:function(){return r}});let r=e=>Object.is(e,null)||Object.is(e,void 0)}},function(e){e.O(0,[973,618,825,97,922,465,744],function(){return e(e.s=1794)}),_N_E=e.O()}]);