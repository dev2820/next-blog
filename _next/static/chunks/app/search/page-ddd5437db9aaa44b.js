(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{1794:function(e,t,n){Promise.resolve().then(n.bind(n,7826))},7938:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(1418).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7313:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(1418).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4970:function(e,t,n){"use strict";var r=n(4085);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},1871:function(e,t,n){"use strict";var r,a;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(a=n.g.process)?void 0:a.env)?n.g.process:n(579)},579:function(e){!function(){var t={229:function(e){var t,n,r,a=e.exports={};function l(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===l||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:l}catch(e){t=l}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var i=[],o=!1,u=-1;function d(){o&&r&&(o=!1,r.length?i=r.concat(i):u=-1,i.length&&h())}function h(){if(!o){var e=c(d);o=!0;for(var t=i.length;t;){for(r=i,i=[];++u<t;)r&&r[u].run();u=-1,t=i.length}r=null,o=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];i.push(new f(e,t)),1!==i.length||o||c(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var l=n[e]={exports:{}},s=!0;try{t[e](l,l.exports,r),s=!1}finally{s&&delete n[e]}return l.exports}r.ab="//";var a=r(229);e.exports=a}()},7826:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r,a=n(6943),l=n(5676),s=n(8625),c=n(1003),i=n(7879),o=n(518);let u=async e=>{await new Promise(t=>{setTimeout(()=>{t()},e)})},d=async(e,t)=>{await u(e),t()};var h=n(5845),f={src:"/_next/static/media/pepe-sad.83ae5666.png",height:1037,width:1092,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAYFBMVEVZiz+KZjRHbTVVhzxQgjYCO+JSgDlMaXFZiThTf0AnXplJci54azMAIrsDOtVpYydzjGSGUC5OXEdhfTiouZ5jc1tNeTRdkD5ThUQSR7pjfTmHXjBei0pLfldBZy9nd17+xCvLAAAAHXRSTlP9/ne1/fuRAO/b7ib+PO5N/pT7n/z2of///////ja1kmcAAAAJcEhZcwAACxMAAAsTAQCanBgAAABESURBVHicBcGHAYAgEASwA4EHe7+nqPtvaQIZUrxTEEhHB+csArHu53chku1tagGUQvBA5FirMRv6R1XTIvA+5zxP8gN2RwOaEF0R0gAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},m=n(7938),p=n(7313);let x=(0,i.forwardRef)((e,t)=>{let{onChangeSearch:n,onClearSearch:r,value:l,placeholder:s,defaultValue:c,className:i,...u}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("label",{className:"relative flex-1",children:[(0,a.jsx)(m.Z,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2"}),(0,a.jsx)("input",{type:"search",placeholder:s,ref:t,className:(0,o.cx)("peer","w-full h-full rounded-lg text-md bg-white caret-primary pl-10 pr-10","duration-200","border-2 focus:outline-none border-primary-500 focus:ring-4 focus:ring-primary-200","focus-visible:outline-none focus-visible:border-primary",i),value:l,onChange:e=>{let t=e.currentTarget.value;null==n||n(t)},...u}),(0,a.jsx)("button",{id:"search-cancel-btn",className:(0,o.cx)("peer-placeholder-shown:hidden absolute right-2 top-1/2 -translate-y-1/2 h-11 w-11 inline-flex justify-center place-items-center"),type:"button",onClick:()=>{null==n||n("")},children:(0,a.jsx)(p.Z,{size:20})})]})})});x.displayName="SearchInput";var g=n(830),v=n(7658),j=n(8067),A=n(4970),b=n(885),y=n(9205);let w=null!==(r=n(1871).env.basePath)&&void 0!==r?r:"";function N(){return(0,a.jsx)(i.Suspense,{children:(0,a.jsx)(T,{})})}let T=()=>{let e=(0,A.useSearchParams)().get("q"),t=(0,g.k)(e)||""===e,[n,r]=(0,i.useState)([]),u=(0,i.useMemo)(()=>!e||n.length<=0?null:(0,s.yC)(e,n,{keys:["data.title","data.tags","data.summary","content"]}),[e,n]),m=(0,i.useRef)(null),[p,y]=(0,i.useState)(null!=e?e:""),N=async()=>{let e=await (0,s.Fc)();(0,v.g)(e)||r(e.value)},T=[...n.map(e=>e.data.tags).flat().reduce((e,t)=>{var n;return e.set(t,(null!==(n=e.get(t))&&void 0!==n?n:0)+1)},new Map).entries()];return(0,l.b)(()=>{d(200,()=>{var e;null===(e=m.current)||void 0===e||e.focus()}),N()}),(0,a.jsxs)("search",{className:(0,o.cx)("rounded-md flex flex-col items-center"),children:[(0,a.jsxs)("fieldset",{className:"rounded-lg w-full pt-20 pb-6 flex flex-col place-items-center",children:[(0,a.jsx)("h2",{className:"text-5xl font-bold mb-8",children:"Search"}),(0,a.jsx)("form",{className:"w-full max-w-[568px] flex flex-col gap-4",action:"".concat(w,"/search?q=").concat(p),method:"get",children:(0,a.jsx)(x,{className:"flex-1 h-11",placeholder:"Type to search",value:p,onChangeSearch:e=>{y(null!=e?e:"")},onClearSearch:()=>{y("")},ref:m,name:"q"})})]}),t&&(0,a.jsx)("ul",{className:"flex flex-row gap-3 flex-wrap justify-center",children:T.map(e=>{let[t,n]=e;return(0,a.jsx)("li",{children:(0,a.jsx)(c.default,{href:"/tags/".concat(encodeURIComponent(t)),className:"rounded-full",children:(0,a.jsx)(j.V,{theme:"secondary",children:"".concat(t," (").concat(n,")")})})},t)})}),(0,a.jsx)("div",{className:"text-left w-full mt-16",children:!t&&(0,a.jsxs)(a.Fragment,{children:[(0,g.k)(u)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.Od,{className:"",children:(0,a.jsx)("strong",{className:"block text-3xl font-bold",children:"loading..."})}),(0,a.jsx)(b.Od,{className:"mt-4 block h-32"})]}),!(0,g.k)(u)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("strong",{className:"block text-3xl font-bold mb-12",children:[(0,a.jsxs)(E,{children:['"',e,'"']})," 검색 결과:"," ",(0,a.jsx)(E,{children:null==u?void 0:u.length}),"개의 포스트"]}),u.length<=0&&(0,a.jsxs)("div",{className:"flex flex-col place-items-center mt-16",children:[(0,a.jsx)(h.default,{src:f,alt:"pepe-sad",width:192,height:0}),(0,a.jsx)("p",{className:"text-lg mt-8",children:"검색 결과가 없습니다요..."})]}),u.length>0&&(0,a.jsx)("ul",{className:"mt-4",children:u.map(e=>(0,a.jsx)("li",{className:"mb-4 last:mb-0 border-b first:border-t",children:(0,a.jsx)(k,{result:e})},e.refIndex))})]})]})})]})},k=e=>{let{result:t,className:n,...r}=e,{item:l,matches:s}=t,i=null==s?void 0:s.find(e=>"data.title"===e.key),u=null==s?void 0:s.find(e=>"data.summary"===e.key);return(0,a.jsxs)(y.sv,{className:(0,o.cx)("rounded-md p-4",n),...r,children:[(0,a.jsx)(c.default,{href:encodeURI("/posts/".concat(l.data.slug)),className:"hover:underline",children:(0,a.jsx)(y.Rz,{children:i&&i.value&&i.indices?R(i.value,i.indices).map((e,t)=>t%2==1?(0,a.jsx)(E,{children:e},t):e):l.data.title})}),(0,a.jsx)(y.Q_,{children:u&&u.value&&u.indices?R(u.value,u.indices).map((e,t)=>t%2==1?(0,a.jsx)(E,{children:e},t):e):l.data.summary}),(0,a.jsx)("div",{className:"mt-2 flex flex-row flex-wrap gap-2.5",children:l.data.tags.map(e=>(0,a.jsx)(c.default,{href:"/tags/".concat(encodeURIComponent(e)),children:(0,a.jsx)(j.V,{theme:"primary",children:e})},e))})]})},E=e=>{let{children:t}=e;return(0,a.jsx)("span",{className:"text-primary",children:t})};function R(e,t){let n=[],r=0;return t.forEach(t=>{let[a,l]=t;n.push(e.slice(r,a)),n.push(e.slice(a,l+1)),r=l+1}),n.push(e.slice(r)),n}}},function(e){e.O(0,[973,618,176,586,673,556,922,465,744],function(){return e(e.s=1794)}),_N_E=e.O()}]);