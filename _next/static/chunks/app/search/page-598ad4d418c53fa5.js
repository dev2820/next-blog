(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{1794:function(e,a,l){Promise.resolve().then(l.bind(l,7826))},7938:function(e,a,l){"use strict";l.d(a,{Z:function(){return t}});/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,l(1418).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7313:function(e,a,l){"use strict";l.d(a,{Z:function(){return t}});/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,l(1418).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4970:function(e,a,l){"use strict";var t=l(4085);l.o(t,"usePathname")&&l.d(a,{usePathname:function(){return t.usePathname}}),l.o(t,"useSearchParams")&&l.d(a,{useSearchParams:function(){return t.useSearchParams}})},7826:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return y}});var t=l(6943),s=l(5676),n=l(8625),r=l(1003),c=l(7879),i=l(518);let d=async e=>{await new Promise(a=>{setTimeout(()=>{a()},e)})},u=async(e,a)=>{await d(e),a()};var o=l(5845),h={src:"/next-blog/_next/static/media/pepe-sad.83ae5666.png",height:1037,width:1092,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAYFBMVEVZiz+KZjRHbTVVhzxQgjYCO+JSgDlMaXFZiThTf0AnXplJci54azMAIrsDOtVpYydzjGSGUC5OXEdhfTiouZ5jc1tNeTRdkD5ThUQSR7pjfTmHXjBei0pLfldBZy9nd17+xCvLAAAAHXRSTlP9/ne1/fuRAO/b7ib+PO5N/pT7n/z2of///////ja1kmcAAAAJcEhZcwAACxMAAAsTAQCanBgAAABESURBVHicBcGHAYAgEASwA4EHe7+nqPtvaQIZUrxTEEhHB+csArHu53chku1tagGUQvBA5FirMRv6R1XTIvA+5zxP8gN2RwOaEF0R0gAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},m=l(7938),x=l(7313);let f=(0,c.forwardRef)((e,a)=>{let{onChangeSearch:l,onClearSearch:s,value:n,placeholder:r,defaultValue:c,className:d,...u}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("label",{className:"relative flex-1",children:[(0,t.jsx)(m.Z,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2"}),(0,t.jsx)("input",{type:"search",placeholder:r,ref:a,className:(0,i.cx)("peer","w-full h-full rounded-lg text-md bg-white caret-primary pl-10 pr-10","duration-200","border-2 focus:outline-none border-primary-500 focus:ring-4 focus:ring-primary-200","focus-visible:outline-none focus-visible:border-primary",d),value:n,onChange:e=>{let a=e.currentTarget.value;null==l||l(a)},...u}),(0,t.jsx)("button",{id:"search-cancel-btn",className:(0,i.cx)("peer-placeholder-shown:hidden absolute right-2 top-1/2 -translate-y-1/2 h-11 w-11 inline-flex justify-center place-items-center"),type:"button",onClick:()=>{null==l||l("")},children:(0,t.jsx)(x.Z,{size:20})})]})})});f.displayName="SearchInput";var p=l(830),g=l(7658),j=l(8067),A=l(4970),b=l(885),v=l(9205);function y(){return(0,t.jsx)(c.Suspense,{children:(0,t.jsx)(N,{})})}let N=()=>{let e=(0,A.useSearchParams)().get("q"),a=(0,p.k)(e)||""===e,[l,d]=(0,c.useState)([]),m=(0,c.useMemo)(()=>!e||l.length<=0?null:(0,n.yC)(e,l,{keys:["data.title","data.tags","data.summary","content"]}),[e,l]),x=(0,c.useRef)(null),[v,y]=(0,c.useState)(null!=e?e:""),N=async()=>{let e=await (0,n.Fc)();(0,g.g)(e)||d(e.value)},R=[...l.map(e=>e.data.tags).flat().reduce((e,a)=>{var l;return e.set(a,(null!==(l=e.get(a))&&void 0!==l?l:0)+1)},new Map).entries()];return(0,s.b)(()=>{u(200,()=>{var e;null===(e=x.current)||void 0===e||e.focus()}),N()}),(0,t.jsxs)("search",{className:(0,i.cx)("rounded-md flex flex-col items-center"),children:[(0,t.jsxs)("fieldset",{className:"rounded-lg w-full pt-20 pb-6 flex flex-col place-items-center",children:[(0,t.jsx)("h2",{className:"text-5xl font-bold mb-8",children:"Search"}),(0,t.jsx)("form",{className:"w-full max-w-[568px] flex flex-col gap-4",action:"".concat("/next-blog","/search?q=").concat(v),method:"get",children:(0,t.jsx)(f,{className:"flex-1 h-11",placeholder:"Type to search",value:v,onChangeSearch:e=>{y(null!=e?e:"")},onClearSearch:()=>{y("")},ref:x,name:"q"})})]}),a&&(0,t.jsx)("ul",{className:"flex flex-row gap-3 flex-wrap justify-center",children:R.map(e=>{let[a,l]=e;return(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{href:"/tags/".concat(encodeURIComponent(a)),className:"rounded-full",children:(0,t.jsx)(j.V,{theme:"secondary",children:"".concat(a," (").concat(l,")")})})},a)})}),(0,t.jsx)("div",{className:"text-left w-full mt-16",children:!a&&(0,t.jsxs)(t.Fragment,{children:[(0,p.k)(m)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Od,{className:"",children:(0,t.jsx)("strong",{className:"block text-3xl font-bold",children:"loading..."})}),(0,t.jsx)(b.Od,{className:"mt-4 block h-32"})]}),!(0,p.k)(m)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("strong",{className:"block text-3xl font-bold mb-12",children:[(0,t.jsxs)(k,{children:['"',e,'"']})," 검색 결과:"," ",(0,t.jsx)(k,{children:null==m?void 0:m.length}),"개의 포스트"]}),m.length<=0&&(0,t.jsxs)("div",{className:"flex flex-col place-items-center mt-16",children:[(0,t.jsx)(o.default,{src:h,alt:"pepe-sad",width:192,height:0}),(0,t.jsx)("p",{className:"text-lg mt-8",children:"검색 결과가 없습니다요..."})]}),m.length>0&&(0,t.jsx)("ul",{className:"mt-4",children:m.map(e=>(0,t.jsx)("li",{className:"mb-4 last:mb-0 border-b first:border-t",children:(0,t.jsx)(w,{result:e})},e.refIndex))})]})]})})]})},w=e=>{let{result:a,className:l,...s}=e,{item:n,matches:c}=a,d=null==c?void 0:c.find(e=>"data.title"===e.key),u=null==c?void 0:c.find(e=>"data.summary"===e.key);return(0,t.jsxs)(v.sv,{className:(0,i.cx)("rounded-md p-4",l),...s,children:[(0,t.jsx)(r.default,{href:encodeURI("/posts/".concat(n.data.slug)),className:"hover:underline",children:(0,t.jsx)(v.Rz,{children:d&&d.value&&d.indices?R(d.value,d.indices).map((e,a)=>a%2==1?(0,t.jsx)(k,{children:e},a):e):n.data.title})}),(0,t.jsx)(v.Q_,{children:u&&u.value&&u.indices?R(u.value,u.indices).map((e,a)=>a%2==1?(0,t.jsx)(k,{children:e},a):e):n.data.summary}),(0,t.jsx)("div",{className:"mt-2 flex flex-row flex-wrap gap-2.5",children:n.data.tags.map(e=>(0,t.jsx)(r.default,{href:"/tags/".concat(encodeURIComponent(e)),children:(0,t.jsx)(j.V,{theme:"primary",children:e})},e))})]})},k=e=>{let{children:a}=e;return(0,t.jsx)("span",{className:"text-primary",children:a})};function R(e,a){let l=[],t=0;return a.forEach(a=>{let[s,n]=a;l.push(e.slice(t,s)),l.push(e.slice(s,n+1)),t=n+1}),l.push(e.slice(t)),l}}},function(e){e.O(0,[973,618,176,586,673,556,922,465,744],function(){return e(e.s=1794)}),_N_E=e.O()}]);